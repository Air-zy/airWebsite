<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Anime Recs</title>
  <script src="https://unpkg.com/pako@2.1.0/dist/pako.min.js"></script>
  <style>
    :root { color-scheme: dark; }
    body { overflow-y: auto; overflow-x: auto; font-family: system-ui; color: #fff; padding: 18px; max-width: 1600px; margin: auto; }

    #layout {
      height: 100vh;
      display: flex;
      flex-direction: row;
      flex-wrap: wrap;
      justify-content: space-around;
    }

    #visual {
      display: flex;
      flex-direction: row;
      justify-content: center;
      flex-wrap: wrap;
      gap: 20px
    }

    #recs {overflow-y: auto; overflow-x: hidden; max-height: 90%};
    #search { width: 100%; padding: 8px; margin-bottom: 8px; }
    #results { max-height: calc(100vh - 200px); border: 1px solid #2b2b2b; padding: 8px; max-height: 420px; overflow: auto; }

    .item { height: 96px; border-radius: 8px; cursor: pointer; position: relative; overflow: hidden; margin-bottom: 8px; background-color: #0f0f0f; background-size: cover; background-position: center; display: block; }
    .item:hover { transform: translateY(-2px); box-shadow: 0 6px 20px rgba(0, 0, 0, 0.6); }
    .selected { outline: 1px solid rgb(255, 255, 255); }

    .overlay { position: absolute; inset: 0; background: linear-gradient(90deg, rgb(0 0 0 / 60%), rgba(0, 0, 0, .25)); display: flex; align-items: center; padding: 12px 16px; gap: 12px; }

    #leftPanel { width: 40% }
    .panel { border: 1px solid #424242; padding: 12px; padding-top: 0px; border-radius: 6px; width: 55%; max-height: 90% }
    .list { list-style: none; padding: 0; margin: 0; }

    .badge { padding: 2px 6px; border-radius: 6px; background: rgba(20,20,20,0.8); font-weight: 600; text-align:center; }

    #selectedBar { display: flex; flex-wrap: wrap; gap: 6px; margin: 8px 0; }
    .sel-pill { background: #202020; padding: 6px 8px; border-radius: 999px; font-weight: 600; display: flex; gap: 6px; align-items: center; }
    .sel-pill button { background: transparent; border: 0; cursor: pointer; font-size: 14px; color: #ddd; }

    .genre-line { font-size: 12px; color: #c7d; margin-top: 4px; }

    .item-content { color: #fff; display: flex; flex-direction: column; gap: 4px; max-width: 100%; }
    .item-title { font-weight: 700; font-size: 16px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
    .item-sub { font-size: 13px; color: #d1d1d1; opacity: 0.9; }

    .rec-item { height: 200px; border-radius: 6px; position: relative; overflow: hidden; margin-bottom: 8px; background-size: cover; background-position: center; }
    .rec-overlay { position: absolute; inset: 0; background: linear-gradient(90deg, rgb(0 0 0 / 60%), rgba(0, 0, 0, .25)); display:flex; align-items:center; justify-content: space-between; padding: 8px 12px; }

    .no-image { background: linear-gradient(180deg, #111 0%, #0a0a0a 100%); }

    @media (max-width: 520px) {
      .item { height: 84px; }
      .item-title { font-size: 14px; }
    }
  </style>
</head>
<body>
  <div id="layout">
    <div id="leftPanel">
      <div id="controls">
        <h2>Anime Recommendations</h2>
        <input id="search" placeholder="search title..." />
        <button id="clearBtn">Clear</button>
      </div>

      <div id="selectedBar" aria-live="polite"></div>

      <div id="results">Loadingâ€¦</div>
    </div>

    <div id="recommendations" class="panel" style="display:none">
      <h3>Recommendations</h3>
      <div id="recs"></div>
    </div>

    <div id="tooltip" style="position:fixed; z-index:9999; pointer-events:none; max-width:360px; padding:10px 12px; background:rgba(10,10,10,0.95); border:1px solid #333; border-radius:8px; font-size:13px; line-height:1.4; color:#ddd; display:none;"></div>

    <script src="./main.js"></script>
  </div>
  <div id="visual">

  </div>
</body>
</html>
