// minified by avy <3
let denoms=[["$2",200],["$1",100],["50¢",50],["25¢",25],["5¢",5],["1¢",1]];function sortDenoms(){denoms.sort(((e,n)=>n[1]-e[1]))}function setCursorToEnd(e){console.log(e.value),e.focus()}function getCoins(e){let n=Math.round(100*e);const t={};for(const[e,o]of denoms)n>=o&&(t[e]=Math.floor(n/o),n%=o);return t}const maxEmojisPerLine=128;document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("input"),n=document.getElementById("container"),t=document.getElementById("delims");let o=0;!function e(){console.warn(denoms);let n=Array.from(t.getElementsByClassName("line"));n.forEach(((e,n)=>{if(n<denoms.length){const[t,s]=denoms[n],l=e.querySelector(".changeValue");l&&(l.value=s/100,o===s&&setCursorToEnd(l))}else t.removeChild(e)}));for(let s=n.length;s<denoms.length;s++){const[n,l]=denoms[s],d=document.createElement("div");d.className="line";const a=document.createElement("input");a.className="changeValue",a.id="input",a.type="number",a.min="0",a.max="2000",a.step="0.01",a.value=l/100,a.placeholder="???",a.addEventListener("input",(n=>{const t=100*parseFloat(n.target.value);t&&l!==t&&(denoms[s][1]=t,denoms[s][0]=t>=100?"$"+t/100:t+"¢",o=t,sortDenoms(),e())}));const c=document.createElement("button");c.textContent="X",c.className="deleteButton",c.addEventListener("click",(()=>{denoms=denoms.filter((([e,n])=>n!==l)),d.remove(),sortDenoms(),e()})),d.appendChild(a),d.appendChild(c),t.appendChild(d)}const s=document.getElementById("addValue");s&&s.remove();const l=document.createElement("div");l.id="addValue",l.textContent="+",l.addEventListener("click",(()=>{denoms.push(["?",0]),sortDenoms(),e()})),t.appendChild(l)}(),e.addEventListener("input",(function(){const t=e.value,o=Math.round(100*t)/100;t!=o&&(e.value=o),t<0&&(e.value=.01);const s=getCoins(parseFloat(e.value)),l=n.getElementsByClassName("line");for(;l.length>0;)l[0].parentNode.removeChild(l[0]);Object.entries(s).forEach((([e,t])=>{console.log(`${e}: ${t}`);const o=document.createElement("div");o.className="line";const s=document.createElement("label");s.innerHTML=`${e} <span style="font-size: 0.8em; color: grey;">(${t})</span>: `;let l=0;t>128&&(l=t-128,t=128);for(let e=0;e<t;++e)s.innerHTML+="O ";l>0&&(s.innerHTML+=`<span style="font-size: 0.8em; color: grey;">+${l}</span>`),o.appendChild(s),n.appendChild(o)}))}))}));