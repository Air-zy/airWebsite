// minified by avy <3
const canvas=document.getElementById("canvas"),ctx=canvas.getContext("2d");function toggleInfo(){document.querySelector(".info-button-container").classList.toggle("active")}let velocityX=0,velocityY=0,newX=0,newY=0,mouseDown=!1;const boids=[];let mouseX=0,mouseY=0;const atan2=Math.atan2,min=Math.min,max=Math.max;function clamp(t,e,n){return min(max(t,e),n)}function resizeCanvas(){canvas.width=window.innerWidth,canvas.height=window.innerHeight}function breakApart(t){var e=document.getElementById(t);let n=e.getBoundingClientRect(),i=n.left+n.width/2,o=n.top+n.height/2;for(let t=0;t<20;t++){let t=40*Math.random()-20,e=50*Math.random()-25;boids.push(new Boid(i+t,o+e,Math.random(),Math.random()))}var s=400*Math.random()-200,a=400*Math.random()-200,c=360*Math.random();e.style.transform="translate("+s+"px, "+a+"px) rotate("+c+"deg)",e.style.transition="transform 1s, opacity 1s",e.style.opacity=0,setTimeout((function(){e.remove()}),1e3)}canvas.addEventListener("mousemove",(function(t){mouseX=t.clientX-canvas.getBoundingClientRect().left,mouseY=t.clientY-canvas.getBoundingClientRect().top}));const attractionStrength=.05,speedLimitSquared=16,perceptionRadiusSquared=2500,radiansToDegrees=180/Math.PI;class Boid{constructor(t,e){this.x=t,this.y=e,this.vx=2*Math.random()-1,this.vy=2*Math.random()-1,this.life=0}update(){const t=this.alignment(boids),e=this.cohesion(boids),n=this.separation(boids),i=this.mouseAttraction(),o=this.vx+t.x+e.x+n.x+i.x,s=this.vy+t.y+e.y+n.y+i.y,a=o*o+s*s;if(a>16){const t=Math.sqrt(16/a);this.vx=o*t,this.vy=s*t}else this.vx=o,this.vy=s;if(this.x>newX&&this.x<newX+100&&this.y>newY&&this.y<newY+100){velocityX+=o/10,velocityY+=s/10;const t=this.x<newX+50?-1:1,e=this.y<newY+50?-1:1,n=t*Math.abs(o),i=e*Math.abs(s);this.vx+=n*clamp(Math.abs(velocityX),4,100),this.vy+=i*clamp(Math.abs(velocityY),4,100)}this.x=(this.x+this.vx+canvas.width)%canvas.width,this.y=(this.y+this.vy+canvas.height)%canvas.height}alignment(t){let e=0,n=0;for(const i of t){const t=i.x-this.x,o=i.y-this.y;i!==this&&t**2+o**2<2500&&(e+=i.vx,n+=i.vy)}const i=t.length-1;if(i>0){const t=1/i;e*=t,n*=t;const o=e**2+n**2;if(o>0){const t=Math.sqrt(o);return{x:e/t*.05,y:n/t*.05}}}return{x:0,y:0}}cohesion(t){let e=0,n=0,i=0;for(const o of t){const t=o.x-this.x,s=o.y-this.y;o!==this&&t*t+s*s<2500&&(e+=o.x,n+=o.y,i++)}return i>0?(e/=i,n/=i,{x:.001*(e-this.x),y:.001*(n-this.y)}):{x:0,y:0}}separation(t){let e=0,n=0,i=0;for(const o of t){const t=this.x-o.x,s=this.y-o.y;o!==this&&t*t+s*s<2500&&(e+=t,n+=s,i++)}if(i>0){e/=i,n/=i;const t=Math.sqrt(e**2+n**2);return{x:e/t*.05,y:n/t*.05}}return{x:0,y:0}}mouseAttraction(){const t=mouseX-this.x,e=mouseY-this.y,n=Math.sqrt(t**2+e**2);return{x:.05*(t/n),y:.05*(e/n)}}draw(){this.life++;const t=atan2(this.vy,this.vx),e=radiansToDegrees*t,n=this.life/2,i=clamp(n,0,100),o=100-clamp(n,0,50);ctx.fillStyle=`hsl(${e}, ${i}%, ${o}%)`,ctx.save(),ctx.translate(this.x,this.y),ctx.rotate(t),ctx.beginPath(),ctx.moveTo(5,0),ctx.lineTo(-5,-2.5),ctx.lineTo(-5,2.5),ctx.closePath(),ctx.fill(),ctx.restore(),ctx.shadowColor=`hsl(${e}, 100%, ${o}%)`,ctx.shadowBlur=30}}let then=performance.now();function animate(){requestAnimationFrame(animate);const t=performance.now();let e=t-then;if(e<targetFrameInterval)return;let n=0;for(;e>=targetFrameInterval&&n<maxUpdatesPerFrame;)update(),e-=targetFrameInterval,n++;render(),then=t-e%targetFrameInterval}function update(){for(const t of boids)t.update()}function render(){ctx.clearRect(0,0,canvas.width,canvas.height);for(const t of boids)t.draw()}const targetFPS=120,targetFrameInterval=1e3/120,maxUpdatesPerFrame=64;animate(),window.addEventListener("resize",(function(){resizeCanvas()})),document.addEventListener("DOMContentLoaded",(function(){resizeCanvas(),document.getElementById("youtube-link").setAttribute("href","https://www.youtube.com/channel/UCgyAZGAZR_knbCnp-bP9wkw"),document.getElementById("twitter-link").setAttribute("href","https://x.com/airzyalt"),document.getElementById("github-link").setAttribute("href","https://github.com/Air-zy");const t=document.getElementById("draggable-box"),e=document.getElementById("draggable-text");let n,i=0,o=0,s=!1,a=0,c=0;function r(){if(!s){velocityY+=.3;const i=t.getBoundingClientRect(),o=document.body.getBoundingClientRect();velocityX*=.99,velocityY*=.99,newX=i.left+velocityX,newY=i.top+velocityY,newX<o.left?(newX=o.left,velocityX*=-1):newX+i.width>o.right&&(newX=o.right-i.width,velocityX*=-1);let s=!1;newY<o.top?(newY=o.top,velocityY*=-1):newY+i.height>o.bottom&&(newY=o.bottom-i.height,velocityY*=-1,s=!0),t.style.left=`${newX}px`,t.style.top=`${newY}px`,e.style.left=`${newX+t.offsetWidth+10}px`,e.style.top=`${newY}px`,e.innerText=velocityX+"\n"+velocityY,(Math.abs(velocityX)>.2||Math.abs(velocityY)>.2||0==s)&&(n=requestAnimationFrame(r))}}requestAnimationFrame(r),t.addEventListener("mousedown",(e=>{mouseDown=!0,i=e.clientX-t.getBoundingClientRect().left,o=e.clientY-t.getBoundingClientRect().top,s=!0,a=e.clientX,c=e.clientY,t.style.cursor="grabbing",cancelAnimationFrame(n)})),document.addEventListener("mousemove",(n=>{if(s){const s=n.clientX,r=n.clientY;velocityX=2*(s-a),velocityY=2*(r-c),t.style.left=s-i+"px",t.style.top=r-o+"px";const l=t.getBoundingClientRect();newX=l.left,newY=l.top,e.style.left=`${newX+t.offsetWidth+10}px`,e.style.top=`${newY}px`,e.innerText=velocityX+"\n"+velocityY,a=s,c=r}})),document.addEventListener("mouseup",(()=>{mouseDown=!1,s=!1,t.style.cursor="grab",requestAnimationFrame(r)}))}));